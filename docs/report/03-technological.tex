\section{Технологический раздел}

\subsection{Средства реализации}

Для реализации ПО был выбран язык программирования C~\cite{c}, поскольку в нем есть все инструменты для реализации загружаемого модуля ядра.

В качестве среды разработки был выбран Neovim~\cite{neovim}, так как данная среда разработки позволяет редактировать файлы с исходным кодом программы.

\subsection{Реализация загружаемого модуля ядра}

Ниже представлены реализации функций и структур загружаемого модуля ядра.

\begin{lstinputlisting}[
        label={lst:},
        caption={Структура struct mem\_alloc\_entry для логирования информации},
        firstline=23,
        lastline=31,
    ]{lst/mem_monitor.c}
\end{lstinputlisting}

\begin{lstinputlisting}[
        label={lst:},
        caption={Функция pre\_kmalloc\_handler},
        firstline=48,
        lastline=74,
    ]{lst/mem_monitor.c}
\end{lstinputlisting}

\begin{lstinputlisting}[
        label={lst:},
        caption={Функция pre\_kmem\_cache\_alloc\_handler},
        firstline=160,
        lastline=202,
    ]{lst/mem_monitor.c}
\end{lstinputlisting}

\begin{lstinputlisting}[
        label={lst:},
        caption={Проба kp\_kmalloc},
        firstline=204,
        lastline=207,
    ]{lst/mem_monitor.c}
\end{lstinputlisting}

\begin{lstinputlisting}[
        label={lst:},
        caption={Проба kp\_kmem\_cache\_alloc},
        firstline=224,
        lastline=227,
    ]{lst/mem_monitor.c}
\end{lstinputlisting}

\begin{lstinputlisting}[
        label={lst:},
        caption={Функция init загружаемого модуля},
        firstline=260,
        lastline=301,
    ]{lst/mem_monitor.c}
\end{lstinputlisting}

%\begin{lstinputlisting}[
%        label={lst:},
%        caption={Функция init загружаемого модуля},
%        firstline=161,
%        lastline=184,
%    ]{lst/new_mem_monitor.c}
%\end{lstinputlisting}

\begin{lstinputlisting}[
        label={lst:},
        caption={Функция exit загружаемого модуля},
        firstline=303,
        lastline=322,
    ]{lst/mem_monitor.c}
\end{lstinputlisting}

%\begin{lstinputlisting}[
%        label={lst:},
%        caption={Функция exit загружаемого модуля},
%        firstline=186,
%        lastline=202,
%    ]{lst/new_mem_monitor.c}
%\end{lstinputlisting}

\subsection{Реализация Makefile}

Ниже представлен Makefile для сборки загружаемого модуля ядра.

\begin{lstinputlisting}[
        label={lst:Makefile},
        caption={Makefile},
        firstline=1,
        lastline=9,
    ]{lst/Makefile}
\end{lstinputlisting}

\newpage

\subsection{Реализация программы для генерации потоков}

Ниже представлена программа для генерации потоков, используемая для мониторинга выделения памяти потоками.

\begin{lstinputlisting}[
        label={lst:threads},
        caption={threads.c},
        firstline=1,
        lastline=25,
    ]{lst/threads.c}
\end{lstinputlisting}

\subsection*{Вывод}

В данном разделе были выбраны средства реализации ПО, а также приведены листинги функций и структур разработанного загружаемого модуля ядра.
